#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include <sys/types.h>
#include <sys/socket.h>
#include <arpa/inet.h>
#include "llist.h"

// client sulla sock 1

void fork_func();

int main(int argc, char ** argv) {
    
    int id=0;
    
	list* llist = create_list();
    printf("\n --- Creo lista --- \n");
    
    
    push_front(llist, create_Info(id++, 11, "aa"));
    printf("\n inserisco 1 \n");
    
    
    if(fork()==0){ //child
        push_front(llist, create_Info(id++, 22, "bb"));
    	printf("\n inserisco 2 -> ovviamente non uscir√† l'item nel main\n");
    	exit(2);
    }
    else{ //father
    	push_front(llist, create_Info(id++, 33, "cc"));
    printf("\n inserisco 3 \n");
    }
    
    push_front(llist, create_Info(id++, 44, "dd"));
    printf("\n inserisco 4 \n");
    
    //stampo
    printf("\nstampa dati:");
    traverse(llist,print_struct);
    
    // rimuovo in testa
    remove_front(llist, free_Info);

    
    // rimuovo in coda
    remove_back(llist,free_Info);

	printf("\n --- Rimozione testa e coda ---\n");
	
	printf("\nstampa dati:");
	traverse(llist,print_struct);

    printf("\nterminazione\n");
    
    return 1;
}


void fork_func(){

}

